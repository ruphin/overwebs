<link rel="import" href="../../vendor/polymer/polymer.html">
<link rel="import" href="../../vendor/app-route/app-location.html">
<link rel="import" href="../overwebs-background-data/overwebs-background-data.html">
<link rel="import" href="../overwebs-background/overwebs-background.html">
<link rel="import" href="../overwebs-chat-widget/overwebs-chat-widget.html">
<link rel="import" href="../overwebs-notification/overwebs-notification.html">
<link rel="import" href="../overwebs-player-data/overwebs-player-data.html">
<link rel="import" href="../overwebs-queue-manager/overwebs-queue-manager.html">
<link rel="import" href="../../vendor/polymerfire/firebase-app.html">
<link rel="import" href="../../vendor/polymerfire/firebase-auth.html">
<link rel="import" href="../../vendor/polymerfire/firebase-document.html">
<!-- Eager load the home page -->
<link rel="import" href="../overwebs-main-page/overwebs-main-page.html">
<link rel="import" href="overwebs-app-style.html">

<dom-module id="overwebs-app">

  <template>
    <style include="overwebs-app-style"></style>

    <app-location route="{{route}}"></app-location>

    <overwebs-background-data id="backgroundData" backgrounds="{{backgrounds}}" background-selection="{{backgroundSelection}}"></overwebs-background-data>
    <overwebs-background id="background" backgrounds="[[backgrounds]]"></overwebs-background>

    <div id="pages">
      <a href="/" route="exit" id="exit"></a>
      <overwebs-login-page route="login"></overwebs-login-page>
      <overwebs-main-page route="main" background-selection="[[backgroundSelection]]"></overwebs-main-page>
      <overwebs-gallery-page route="hero-gallery"></overwebs-gallery-page>
      <overwebs-play-page route="play"></overwebs-play-page>
      <overwebs-competitive-page route="competitive"></overwebs-competitive-page>
      <overwebs-arcade-page route="arcade"></overwebs-arcade-page>
      <overwebs-training-page route="training"></overwebs-training-page>
      <overwebs-vs-ai-page route="vs-ai"></overwebs-vs-ai-page>
      <div class="loading" route="loading"></div>
      <div id="exit" route="exit"></div>
    </div>

    <overwebs-notification id="notification" spinner hidden>
      <div slot="title" id="notification-title"></div>
      <div slot="message" id="notification-message"></div>
      <div slot="button" id="notification-button"></div>
    </overwebs-notification>

    <overwebs-queue-manager id='queue-manager'></overwebs-queue-manager>

    <overwebs-player-data id="playerdata" player="{{playerData}}"></overwebs-player-data>
    <overwebs-chat-widget id="chat" tabindex="-1" firebase="[[firebase]]" player-data="[[playerData]]"></overwebs-chat-widget>

    <firebase-app
      app="{{firebase}}"
      auth-domain="overwebs-86c53.firebaseapp.com"
      database-url="https://overwebs-86c53.firebaseio.com"
      api-key="AIzaSyD-FCqLAtCYYCitKmErFWT2xEQyHk7fhBU">
    </firebase-app>
  </template>
  <script type="text/javascript" src="overwebs-app.js"></script>
</dom-module>
