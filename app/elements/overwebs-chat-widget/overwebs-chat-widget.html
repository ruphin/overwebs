<link rel="import" href="../../vendor/polymer/polymer.html">
<link rel="import" href="overwebs-chat-widget-style.html">
<link rel="import" href="../overwebs-global-button/overwebs-global-button.html">
<link rel="import" href="../overwebs-keybinding/overwebs-keybinding.html">
<link rel="import" href="../overwebs-chat-interaction/overwebs-chat-interaction.html">
<link rel="import" href="../../vendor/polymerfire/firebase-app.html">
<link rel="import" href="../../vendor/polymerfire/firebase-auth.html">
<link rel="import" href="../../vendor/polymerfire/firebase-document.html">

<style media="screen">
  @font-face {
    font-family: chat-widget-futura;
    src: url("/fonts/Futura.ttf");
  }
</style>

<dom-module id="overwebs-chat-widget">
  <template>
    <style include="overwebs-chat-widget-style"></style>
    <overwebs-keybinding id="enter" key="Enter"></overwebs-keybinding>
    <overwebs-keybinding id="escape" override></overwebs-keybinding>
    <div class="chatShadow"></div>
    <div id="chatBox" class="chatBox">
      <div class="chatLog">
        <template id="domRepeat" id="messageList" is="dom-repeat" items="[[_history]]">
          <div class="message">
            [<span>[[item.author]]</span>]: <span>[[item.message]]</span>
          </div>
        </template>
      </div>
    </div>
    <div class="button">Press Enter to chat</div>
    <div class="entryBox">
      <span id="channel">[[[_channel]]]: </span><input id="input" class="input" type="text" name="name" value="" autocomplete="off">
    </div>
    <!-- <overwebs-chat-interaction id="chatInteraction"></overwebs-chat-interaction> -->
    <firebase-app
      app="{{firebase}}"
      auth-domain="overwebs-86c53.firebaseapp.com"
      database-url="https://overwebs-86c53.firebaseio.com"
      api-key="AIzaSyD-FCqLAtCYYCitKmErFWT2xEQyHk7fhBU">
    </firebase-app>
  </template>
  <script type="text/javascript" src="overwebs-chat-widget.js"></script>
</dom-module>
